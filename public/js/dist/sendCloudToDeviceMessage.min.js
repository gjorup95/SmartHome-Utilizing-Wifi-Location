"use strict";var Client=require("azure-iothub").Client,Message=require("azure-iot-common").Message,connectionString="HostName=GjorupPi.azure-devices.net;SharedAccessKeyName=service;SharedAccessKey=oREm8bL3LGVub1PWhbCTS28KFWF5EbH9XdhZP1xeUb0=",targetDevice="GjorupPi001",serviceClient=Client.fromConnectionString(connectionString);function printResultFor(n){return function(e,o){e&&console.log(n+" error: "+e.toString()),o&&console.log(n+" status: "+o.constructor.name)}}function receiveFeedback(e,o){o.on("message",function(e){console.log("Feedback message:"),console.log(e.getData().toString("utf-8"))})}serviceClient.open(function(e){if(e)console.error("Could not connect: "+e.message);else{console.log("Service client connected"),serviceClient.getFeedbackReceiver(receiveFeedback);var o=new Message("Cloud to device message.");o.ack="full";var n=Math.floor(Math.random()*Math.floor(3));o.data=JSON.stringify({randomState:n}),o.messageId="My Message ID",console.log("Sending message: "+o.getData()),serviceClient.send(targetDevice,o,printResultFor("send"))}});
//# sourceMappingURL=sendCloudToDeviceMessage.min.js.map
