"use strict";var actuator,interval,resources=require("./../../resources/model"),model=resources.pi.actuators.leds[1];modelarray=resources.pi.actuators.leds;var pluginName=model.name,localParams={simulate:!1,frequency:2e3},stopBlinking=!1,led1state=1;function check1(e){for(i=1;i<4;i++)0===e[i].value&&(stopBlinking=!0,actuator.writeSync(1),alreadyPlayed=!1),1===e[i].value&&(stopBlinking=!0,actuator.writeSync(0),alreadyPlayed=!1),2===e[i].value&!1===alreadyPlayed&&(stopBlinking=!1,blinkLED(),alreadyPlayed=!0)}function connectHardware(){var e=require("onoff").Gpio;actuator=new e(model.gpio,"out"),console.info("Hardware %s actuator started!",pluginName)}function blinkLED(){!function e(a){stopBlinking||(actuator.read(function(e,a){if(led1state=1^a,e)throw e;actuator.write(1^a,function(e){if(e)throw e})}),setTimeout(e,2e3))}()}function simulate(){interval=setInterval(function(){model.value?model.value=!1:model.value=!0},localParams.frequency),console.info("Simulated %s actuator started!",pluginName)}alreadyPlayed=!1,exports.start=function(e){(localParams=e).simulate?simulate():(connectHardware(),setInterval(check1,500,modelarray))},exports.stop=function(){localParams.simulate?clearInterval(interval):actuator.unexport(),console.info("%s plugin stopped!",pluginName)};
//# sourceMappingURL=ledsPlugin.min.js.map
